@using System.Collections.Generic;
@using DataLayer.Entities;
@model List<Account>
@{
    ViewData["Title"] = "Счета";
    string? message = TempData["Message"]?.ToString();
    string messageStyle = TempData["MessageStyle"]?.ToString()!;

}
@if(message is not null && message != "")
{

    <div class="alert @messageStyle mt-3 mb-3 text-center">@message</div>
}
<script>
    function deleteCommand (id){
        var url = "delete/"+id;
        if (confirm("Вы уверены, что хотите удалить счет?\nПосле удаления все транзакции будут потеряны")) {
            window.location.replace(url);
        }
    }
</script>
<div class="container">
    <div class="row  justify-content-center mt-5">
        @foreach (var item in Model)
        {     
            <div class="col-lg-3 col-md-4 col-sm-12 mb-4">
            <div class="row justify-content-center">
                <div class="col-5">
                    <img src="/images/account.png" width="100px" height="100px" class="mb-4" />
                </div>
            </div>
            <p class="AccountName">@item.Name</p>
            <p class="AccountBalance">Баланс : -</p>
            <div class="row justify-content-center">
                <div class="col-9">
                        <a asp-controller="Account" asp-action="EditPage" asp-route-Id=@item.Id class="btn btn-info">Изменить</a>
                        <button class="btn btn-danger" onclick="deleteCommand(@item.Id)">Удалить</button>
                </div>
            </div>
        </div>
        }
    </div>
</div>
